# UAV Server

## 代码下载
运行以下命令克隆代码到本地：
```
git clone git@github.com:yourusername/uav_server.git

```



## 遥控器设置

遥控器通道映射（从1开始计数）：  
```
    油门：  65 ( 低——>高        174   ——> 1811        )
    YAW:   66 ( 左——>右        65496 ——> 40          )
    PITCH: 67 ( 高——>低        40    ——> 65496       )
    ROLL:  68 ( 左——>右        40    ——> 65496       )
    SA:    69 ( 未按下——>按下   191   ——> 1792        )
    SB:    70 ( 低——>中——>高   191 ——> 997 ——> 1792  )
    SC:    71 ( 低——>中——>高   191 ——> 997 ——> 1792  )
    SD:    72 ( 未按下——>按下   191   ——> 1792        )
```

### 起飞
按下 **SA** 解锁，等待螺旋桨旋转然后直接推油门；  
**SD** 是定点/定高切换，按下去为定点，不按下去为定高；  
**SB** 对应：最下面是 **manual**，中间是定点/定高，最上面是 **offboard**。

### 进入 offboard 模式
1. **SB 高位**，**SD 按下**，解锁即可进入 offboard 模式，此时可以直接给定轨迹飞行。  
2. **SC 低位**：进入执行轨迹模式；**SC 高位**：降落并上锁。



## 未解决的问题
1. 需要记录每次飞行的轨迹 ✅  
2. 轨迹启动的时候很长，明确切换状态延迟的原因 (check代码) ✅  
3. 轨迹会出现抖动，tracking 的时候会有急停  
4. 起飞的时候 yaw 角会旋转，需要明确问题的解决  
5. 响应 mavlink 上锁的指令  


